(function(e){function t(t){for(var a,u,c=t[0],s=t[1],o=t[2],d=0,f=[];d<c.length;d++)u=c[d],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&f.push(r[u][0]),r[u]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},i=[];function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/amazingtalker-frontend-assessment/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"20ad":function(e,t,n){"use strict";var a=n("4e4f"),r=n.n(a);r.a},"4e4f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("aaa5"),n("450d");var a=n("a578"),r=n.n(a),i=(n("ae26"),n("845f")),u=n.n(i),c=(n("1951"),n("eedf")),s=n.n(c),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),l=n("ce19"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"demo-container"},[n("h1",{staticClass:"section-title"},[e._v(" "+e._s(e.$t("availableTimes"))+" "),n("LocaleChanger")],1),n("Schedule")],1)])},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule"},[n("ScheduleControl",{attrs:{date:e.date},on:{nextWeek:e.checkoutNextWeek,lastWeek:e.checkoutLastWeek}}),n("ScheduleContent",{attrs:{date:e.date,schedule:e.schedule}}),e.showLoading?n("Loading"):e._e()],1)},h=[],m=n("d3fb"),v=n("c4cc"),b=n("1585"),g=n("d792"),_=(n("ac1f"),n("1276"),n("5a0c")),w=n.n(_),y=function(e,t){return w()(e).format(t)},k=function(e,t){return w()(e).isAfter(t)},O=function(e,t,n){return w()(e).isSame(t,n)},S=function(e,t){return w()(e).startOf(t).toDate()},j=function(e,t,n){return w()(e).add(t,n).toDate()},C=function(e,t,n){return w()(e).subtract(t,n).toDate()},D=function(){return{city:Intl.DateTimeFormat().resolvedOptions().timeZone.split("/")[1],offsetFromUTC:y(new Date,"Z")}},T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule-control"},[n("el-button-group",[n("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left","data-testid":"last-week-btn",disabled:e.isCurrentWeek},on:{click:function(t){return e.$emit("lastWeek")}}}),n("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-right","data-testid":"next-week-btn"},on:{click:function(t){return e.$emit("nextWeek")}}})],1),n("span",{staticClass:"range",attrs:{"data-testid":"range"}},[e._v(e._s(e.rangeOfSchedule))]),n("span",{staticClass:"time-zone"},[e._v(e._s(e.$t("timeZone",e.timeZone)))])],1)},x=[],$=(n("99af"),{props:{date:{type:Date,required:!0}},data:function(){return{timeZone:D()}},computed:{rangeOfSchedule:function(){var e=y(this.date,"YYYY/MM/DD"),t=y(j(this.date,7,"day"),"DD");return"".concat(e," - ").concat(t)},isCurrentWeek:function(){return O(this.date,new Date,"week")}}}),W=$,M=(n("6ec9"),n("2877")),L=Object(M["a"])(W,T,x,!1,null,"c92b1d26",null),A=L.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule-content"},e._l(e.week,(function(t){return n("TimeList",{key:t.valueOf(),attrs:{date:t,timeSlots:e.getTimeSlots(t)}})})),1)},E=[],P=(n("d81d"),n("0f05")),F=n.n(P),Z=n("5a3a"),q=n.n(Z),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"day",class:{active:e.active}},[n("div",{staticClass:"title"},[n("span",[e._v(e._s(e.$t("date."+e.format(e.date,"ddd"))))]),n("span",[e._v(e._s(e.format(e.date,"DD")))])]),n("div",{staticClass:"time-list"},e._l(e.timeSlots,(function(t){return n("div",{key:t.time.valueOf(),staticClass:"time",class:{available:e.isAvailable(t)},attrs:{"data-testid":"time-slot"}},[e._v(" "+e._s(e.format(t.time,"HH:mm"))+" ")])})),0)])},N=[],U={props:{date:{type:Date,required:!0},timeSlots:{type:Array,required:!0}},computed:{active:function(){return this.timeSlots.length>0||O(this.date,new Date,"date")}},methods:{format:y,isAvailable:function(e){return"available"===e.status}}},G=U,H=(n("7190"),Object(M["a"])(G,Y,N,!1,null,"654c12da",null)),I=H.exports,J={props:{date:{type:Date,required:!0},schedule:{type:Object}},components:{TimeList:I},computed:{week:function(){var e=this;return q()(7).map((function(t){return j(e.date,t,"day")}))}},methods:{getTimeSlots:function(e){if(!this.schedule)return[];var t=this.schedule[e.getDate()]||[],n=F()((function(e){return k(e.time,new Date)}));return n(t)}}},R=J,V=(n("de58"),Object(M["a"])(R,z,E,!1,null,"d3480cee",null)),B=V.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("i",{staticClass:"el-icon-loading"})])}],X=(n("20ad"),{}),ee=Object(M["a"])(X,K,Q,!1,null,"3ff2fb23",null),te=ee.exports,ne=(n("96cf"),n("1da1")),ae=n("2909"),re=n("5530"),ie=n("c571"),ue=n.n(ie),ce=n("b92f"),se=n.n(ce),oe=n("b006"),le=n.n(oe),de=n("5575"),fe=n.n(de);n("d3b7");function pe(e,t){return fetch("https://cors-anywhere.herokuapp.com/https://api.amazingtalker.com/v1/guest/teachers/amy-estrada/schedule?started_at=".concat(t.params.started_at)).then((function(e){return e.json()}))}function he(e){var t=function(e){return function(t){return Object(re["a"])({},t,{status:e})}},n=function(e,t){return new Date(e.start)-new Date(t.start)};return[].concat(Object(ae["a"])(se()(t("available"))(e.available)),Object(ae["a"])(se()(t("booked"))(e.booked))).sort(n)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=e.start,a=e.end,r=[];while(k(a,n))r.push({status:e.status,time:new Date(n)}),n=j(n,t,"minute");return r}function ve(e){return be.apply(this,arguments)}function be(){return be=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe("schedule",{params:{started_at:t}});case 2:return n=e.sent,a=le()((function(e){return me(e)})),r=fe()((function(e){return e.time.getDate()})),e.abrupt("return",ue()(he,a,r)(n));case 6:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}n("0fb7");var ge=n("f529"),_e=n.n(ge),we=function(e){return function(){return e.apply(void 0,arguments).catch((function(){_e.a.error("Oops something went wrong!")}))}},ye={components:{ScheduleControl:A,ScheduleContent:B,Loading:te},data:function(){return{date:S(new Date,"week"),schedule:null}},subscriptions:function(){var e=this.$watchAsObservable("date",{immediate:!0});return{schedule:e.pipe(Object(v["a"])(this.resetSchedule),Object(b["a"])("newValue"),Object(g["a"])((function(e){return Object(m["a"])(we(ve)(e.toISOString()))})))}},computed:{showLoading:function(){return!this.schedule}},methods:{resetSchedule:function(){this.schedule=null},checkoutNextWeek:function(){this.date=j(this.date,1,"week")},checkoutLastWeek:function(){this.date=C(this.date,1,"week")}}},ke=ye,Oe=Object(M["a"])(ke,p,h,!1,null,null,null),Se=Oe.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"locale-changer"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$i18n,"locale",t.target.multiple?n:n[0])}}},e._l(e.langs,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])},Ce=[],De={data:function(){return{langs:["en","zh"]}}},Te=De,xe=Object(M["a"])(Te,je,Ce,!1,null,null,null),$e=xe.exports,We={name:"App",components:{Schedule:Se,LocaleChanger:$e}},Me=We,Le=(n("5c0b"),Object(M["a"])(Me,d,f,!1,null,null,null)),Ae=Le.exports,ze=n("a925"),Ee={availableTimes:"Available times",timeZone:"* All the timings listed are in your timezone: {city} (GMT{offsetFromUTC})",date:{Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat"}},Pe={availableTimes:"授課時間",timeZone:"* 時間以 {city} (GMT{offsetFromUTC}) 顯示",date:{Sun:"日",Mon:"一",Tue:"二",Wed:"三",Thu:"四",Fri:"五",Sat:"六"}};o["default"].use(ze["a"]);var Fe=new ze["a"]({locale:"en",messages:{en:Ee,zh:Pe}});o["default"].use(s.a),o["default"].use(u.a),o["default"].use(r.a),o["default"].use(l["a"]),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(Ae)},i18n:Fe}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},6901:function(e,t,n){},"6ec9":function(e,t,n){"use strict";var a=n("6901"),r=n.n(a);r.a},7190:function(e,t,n){"use strict";var a=n("9ffc"),r=n.n(a);r.a},"9c0c":function(e,t,n){},"9ffc":function(e,t,n){},de58:function(e,t,n){"use strict";var a=n("e11a"),r=n.n(a);r.a},e11a:function(e,t,n){}});
//# sourceMappingURL=app.79c5db61.js.map